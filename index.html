<!DOCTYPE html>
<html lang="fa" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>WebGIS ุงุณุชุงูโูุง ุงุฑุงู</title>
    
    <!-- Leaflet CSS -->
    <link rel="stylesheet" href="https://unpkg.com/leaflet@1.9.4/dist/leaflet.css" />
    
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
        }

        .container {
            display: flex;
            height: 100vh;
            box-shadow: 0 0 20px rgba(0,0,0,0.3);
        }

        /* ูพูู ุงุทูุงุนุงุช */
        .info-panel {
            width: 350px;
            background: rgba(255, 255, 255, 0.95);
            backdrop-filter: blur(10px);
            padding: 20px;
            overflow-y: auto;
            border-left: 3px solid #4CAF50;
            box-shadow: -5px 0 15px rgba(0,0,0,0.1);
        }

        .info-panel h2 {
            color: #2c3e50;
            margin-bottom: 20px;
            text-align: center;
            font-size: 1.5em;
            border-bottom: 2px solid #3498db;
            padding-bottom: 10px;
        }

        .province-info {
            background: white;
            border-radius: 10px;
            padding: 15px;
            margin-bottom: 15px;
            box-shadow: 0 2px 10px rgba(0,0,0,0.1);
            border-right: 4px solid #e74c3c;
        }

        .province-info h3 {
            color: #2c3e50;
            margin-bottom: 10px;
            font-size: 1.3em;
        }

        .info-item {
            display: flex;
            justify-content: space-between;
            margin-bottom: 8px;
            padding: 5px 0;
            border-bottom: 1px solid #ecf0f1;
        }

        .info-label {
            font-weight: bold;
            color: #7f8c8d;
        }

        .info-value {
            color: #2c3e50;
        }

        .no-selection {
            text-align: center;
            color: #7f8c8d;
            font-style: italic;
            margin-top: 50px;
        }

        /* ููุดู */
        #map {
            flex: 1;
            height: 100vh;
        }

        /* ุงุณุชุงู ุจุฑุง ูุงูุงุช ุงุณุชุงู */
        .province-highlight {
            fill-opacity: 0.7;
            stroke-width: 3;
        }

        /* ููฺฏู ู ูุฏุฑ */
        .header {
            background: linear-gradient(135deg, #2c3e50, #34495e);
            color: white;
            padding: 15px;
            text-align: center;
            margin-bottom: 20px;
            border-radius: 8px;
        }

        .header h1 {
            font-size: 1.4em;
            margin-bottom: 5px;
        }

        .header p {
            opacity: 0.8;
            font-size: 0.9em;
        }
    </style>
</head>
<body>
    <div class="container">
        <!-- ูพูู ุงุทูุงุนุงุช -->
        <div class="info-panel">
            <div class="header">
                <h1>๐ WebGIS ุงุณุชุงูโูุง ุงุฑุงู</h1>
                <p>ุจุฑุง ูุดุงูุฏู ุงุทูุงุนุงุช ุฑู ุงุณุชุงูโูุง ฺฉูฺฉ ฺฉูุฏ</p>
            </div>
            
            <div id="provinceDetails">
                <div class="no-selection">
                    <p>โณ ุฏุฑ ุญุงู ุจุงุฑฺฏุฐุงุฑ ููุดู...</p>
                    <p>ุฑู ูุฑ ุงุณุชุงู ฺฉูฺฉ ฺฉูุฏ ุชุง ุงุทูุงุนุงุช ููุงุด ุฏุงุฏู ุดูุฏ</p>
                </div>
            </div>
        </div>

        <!-- ููุดู -->
        <div id="map"></div>
    </div>

    <!-- Leaflet JS -->
    <script src="https://unpkg.com/leaflet@1.9.4/dist/leaflet.js"></script>
    
    <script>
        // ุชุนุฑู ุงุทูุงุนุงุช ุงุณุชุงูโูุง
        const provincesData = {
            "IR01": {
                name: "ุขุฐุฑุจุงุฌุงู ุดุฑู",
                capital: "ุชุจุฑุฒ",
                population: "ด,ฑฐฐ,ฐฐฐ ููุฑ",
                area: "ดต,ถตฐ ฺฉูููุชุฑ ูุฑุจุน",
                cities: ["ุชุจุฑุฒ", "ูุฑุงุบู", "ูุฑูุฏ", "ุงูุฑ", "ูุงูู"],
                description: "ุงุณุชุงู ุขุฐุฑุจุงุฌุงู ุดุฑู ุฏุฑ ุดูุงู ุบุฑุจ ุงุฑุงู ูุฑุงุฑ ุฏุงุฑุฏ."
            },
            "IR02": {
                name: "ุขุฐุฑุจุงุฌุงู ุบุฑุจ",
                capital: "ุงุฑููู",
                population: "ณ,ทฐฐ,ฐฐฐ ููุฑ",
                area: "ณท,ดฑฑ ฺฉูููุชุฑ ูุฑุจุน",
                cities: ["ุงุฑููู", "ุฎู", "ููุงุจุงุฏ", "ูุงูุฏูุขุจ", "ุจูฺฉุงู"],
                description: "ุงุณุชุงู ุขุฐุฑุจุงุฌุงู ุบุฑุจ ุฏุฑ ูุฑุฒ ุชุฑฺฉู ู ุนุฑุงู ูุฑุงุฑ ุฏุงุฑุฏ."
            },
            "IR03": {
                name: "ุงุฑุฏุจู",
                capital: "ุงุฑุฏุจู",
                population: "ฑ,ณฐฐ,ฐฐฐ ููุฑ",
                area: "ฑท,ธฐฐ ฺฉูููุชุฑ ูุฑุจุน",
                cities: ["ุงุฑุฏุจู", "ูุดฺฏูโุดูุฑ", "ูพุงุฑุณโุขุจุงุฏ", "ฺฏุฑู", "ุฎูุฎุงู"],
                description: "ุงุณุชุงู ุงุฑุฏุจู ุฏุฑ ุดูุงู ุบุฑุจ ุงุฑุงู ู ููโูุฑุฒ ุจุง ุฌูููุฑ ุขุฐุฑุจุงุฌุงู ุงุณุช."
            },
            "IR05": {
                name: "ุงูุงู",
                capital: "ุงูุงู",
                population: "ถฐฐ,ฐฐฐ ููุฑ",
                area: "ฒฐ,ฑณณ ฺฉูููุชุฑ ูุฑุจุน",
                cities: ["ุงูุงู", "ุฏููุฑุงู", "ุงูุงู", "ููุฑุงู", "ุขุจุฏุงูุงู"],
                description: "ุงุณุชุงู ุงูุงู ุฏุฑ ุบุฑุจ ุงุฑุงู ู ููโูุฑุฒ ุจุง ุนุฑุงู ูุฑุงุฑ ุฏุงุฑุฏ."
            },
            "IR10": {
                name: "ุฎูุฒุณุชุงู",
                capital: "ุงููุงุฒ",
                population: "ด,ทฐฐ,ฐฐฐ ููุฑ",
                area: "ถด,ฐตท ฺฉูููุชุฑ ูุฑุจุน",
                cities: ["ุงููุงุฒ", "ุขุจุงุฏุงู", "ุฎุฑูุดูุฑ", "ุฏุฒููู", "ุดูุดุชุฑ"],
                description: "ุงุณุชุงู ุฎูุฒุณุชุงู ุฏุฑ ุฌููุจ ุบุฑุจ ุงุฑุงู ู ุฏุงุฑุง ููุงุจุน ููุช ููู ุงุณุช."
            },
            "IR16": {
                name: "ฺฉุฑุฏุณุชุงู",
                capital: "ุณููุฏุฌ",
                population: "ฑ,ถฐฐ,ฐฐฐ ููุฑ",
                area: "ฒน,ฑณท ฺฉูููุชุฑ ูุฑุจุน",
                cities: ["ุณููุฏุฌ", "ุณูุฒ", "ูุฑูุงู", "ุจุงูู", "ูุฑูู"],
                description: "ุงุณุชุงู ฺฉุฑุฏุณุชุงู ุฏุฑ ุบุฑุจ ุงุฑุงู ู ุฏุงุฑุง ุทุจุนุช ฺฉููุณุชุงู ุฒุจุง ุงุณุช."
            },
            "IR17": {
                name: "ฺฉุฑูุงูุดุงู",
                capital: "ฺฉุฑูุงูุดุงู",
                population: "ฒ,ฐฐฐ,ฐฐฐ ููุฑ",
                area: "ฒด,นนธ ฺฉูููุชุฑ ูุฑุจุน",
                cities: ["ฺฉุฑูุงูุดุงู", "ุงุณูุงูโุขุจุงุฏ ุบุฑุจ", "ูุฑุณู", "ฺฉูฺฏุงูุฑ", "ูพุงูู"],
                description: "ุงุณุชุงู ฺฉุฑูุงูุดุงู ุฏุฑ ุบุฑุจ ุงุฑุงู ู ุฏุงุฑุง ุขุซุงุฑ ุชุงุฑุฎ ูุชุนุฏุฏ ุงุณุช."
            },
            "IR19": {
                name: "ฺฏูุงู",
                capital: "ุฑุดุช",
                population: "ฒ,ตฐฐ,ฐฐฐ ููุฑ",
                area: "ฑด,ฐดฒ ฺฉูููุชุฑ ูุฑุจุน",
                cities: ["ุฑุดุช", "ุงูุฒู", "ูุงูุฌุงู", "ุขุณุชุงุฑุง", "ุชุงูุด"],
                description: "ุงุณุชุงู ฺฏูุงู ุฏุฑ ุดูุงู ุงุฑุงู ู ฺฉูุงุฑ ุฏุฑุง ุฎุฒุฑ ูุฑุงุฑ ุฏุงุฑุฏ."
            },
            "IR28": {
                name: "ุฎุฑุงุณุงู ุดูุงู",
                capital: "ุจุฌููุฑุฏ",
                population: "นฐฐ,ฐฐฐ ููุฑ",
                area: "ฒธ,ดณด ฺฉูููุชุฑ ูุฑุจุน",
                cities: ["ุจุฌููุฑุฏ", "ุดุฑูุงู", "ุงุณูุฑุงู", "ุฌุงุฌุฑู", "ูุงุฑูุฌ"],
                description: "ุงุณุชุงู ุฎุฑุงุณุงู ุดูุงู ุฏุฑ ุดูุงู ุดุฑู ุงุฑุงู ูุฑุงุฑ ุฏุงุฑุฏ."
            }
        };

        // ููุฏุงุฑุฏู ุงููู ููุดู
        const map = L.map('map').setView([32.4279, 53.6880], 5);

        // ุงุถุงูู ฺฉุฑุฏู ูุงู ููุดู ูพุงู
        L.tileLayer('https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png', {
            attribution: 'ยฉ OpenStreetMap contributors'
        }).addTo(map);

        // ูุงู ุจุฑุง ูุงูุงุช ุงุณุชุงู
        const highlightLayer = L.layerGroup().addTo(map);

        // ุชุงุจุน ุจุฑุง ููุงุด ุงุทูุงุนุงุช ุงุณุชุงู
        function showProvinceInfo(provinceId) {
            const province = provincesData[provinceId];
            const detailsDiv = document.getElementById('provinceDetails');
            
            if (province) {
                detailsDiv.innerHTML = `
                    <div class="province-info">
                        <h3>${province.name}</h3>
                        <div class="info-item">
                            <span class="info-label">ูุฑฺฉุฒ ุงุณุชุงู:</span>
                            <span class="info-value">${province.capital}</span>
                        </div>
                        <div class="info-item">
                            <span class="info-label">ุฌูุนุช:</span>
                            <span class="info-value">${province.population}</span>
                        </div>
                        <div class="info-item">
                            <span class="info-label">ูุณุงุญุช:</span>
                            <span class="info-value">${province.area}</span>
                        </div>
                        <div class="info-item">
                            <span class="info-label">ุดูุฑูุง ููู:</span>
                            <span class="info-value">${province.cities.join('ุ ')}</span>
                        </div>
                        <div class="info-item">
                            <span class="info-label">ุชูุถุญุงุช:</span>
                            <span class="info-value">${province.description}</span>
                        </div>
                    </div>
                `;
            }
        }

        // ุจุงุฑฺฏุฐุงุฑ ูุงู GeoJSON
        fetch('ir.json')
            .then(response => response.json())
            .then(data => {
                // ุงุถุงูู ฺฉุฑุฏู ูุงู ุงุณุชุงูโูุง ุจู ููุดู
                const provincesLayer = L.geoJSON(data, {
                    style: {
                        fillColor: '#3388ff',
                        weight: 2,
                        opacity: 1,
                        color: 'white',
                        fillOpacity: 0.3
                    },
                    onEachFeature: function(feature, layer) {
                        // ุงุถุงูู ฺฉุฑุฏู ุฑูุฏุงุฏ ฺฉูฺฉ
                        layer.on('click', function(e) {
                            // ูพุงฺฉ ฺฉุฑุฏู ูุงูุงุช ูุจู
                            highlightLayer.clearLayers();
                            
                            // ูุงูุงุช ุงุณุชุงู ุงูุชุฎุงุจ ุดุฏู
                            const highlight = L.geoJSON(feature, {
                                style: {
                                    fillColor: '#e74c3c',
                                    weight: 3,
                                    opacity: 1,
                                    color: '#c0392b',
                                    fillOpacity: 0.5
                                }
                            });
                            highlightLayer.addLayer(highlight);
                            
                            // ููุงุด ุงุทูุงุนุงุช ุงุณุชุงู
                            showProvinceInfo(feature.properties.id);
                            
                            // ุฌููฺฏุฑ ุงุฒ ุงูุชุดุงุฑ ุฑูุฏุงุฏ
                            e.originalEvent.stopPropagation();
                        });
                        
                        // ุงุถุงูู ฺฉุฑุฏู ูุงูุฑ
                        layer.on('mouseover', function() {
                            layer.setStyle({
                                fillOpacity: 0.5,
                                weight: 3
                            });
                        });
                        
                        layer.on('mouseout', function() {
                            layer.setStyle({
                                fillOpacity: 0.3,
                                weight: 2
                            });
                        });
                    }
                }).addTo(map);
                
                // ุชูุธู ููุง ููุดู ุจุฑ ุงุณุงุณ ฺฉู ุฏุงุฏูโูุง
                map.fitBounds(provincesLayer.getBounds());
                
                // ุจู ุฑูุฒ ุฑุณุงู ูพุงู ุงููู
                document.querySelector('.no-selection').innerHTML = 
                    '<p>๐ ุฑู ูุฑ ุงุณุชุงู ฺฉูฺฉ ฺฉูุฏ</p><p>ุงุทูุงุนุงุช ุงุณุชุงู ุฏุฑ ุงูุฌุง ููุงุด ุฏุงุฏู ูโุดูุฏ</p>';
            })
            .catch(error => {
                console.error('Error loading GeoJSON:', error);
                document.getElementById('provinceDetails').innerHTML = 
                    '<div class="no-selection"><p>โ ุฎุทุง ุฏุฑ ุจุงุฑฺฏุฐุงุฑ ุฏุงุฏูโูุง</p></div>';
            });

        // ฺฉูฺฉ ุฑู ููุดู ุจุฑุง ูพุงฺฉ ฺฉุฑุฏู ุงูุชุฎุงุจ
        map.on('click', function() {
            highlightLayer.clearLayers();
            document.getElementById('provinceDetails').innerHTML = 
                '<div class="no-selection"><p>๐ ุฑู ูุฑ ุงุณุชุงู ฺฉูฺฉ ฺฉูุฏ</p><p>ุงุทูุงุนุงุช ุงุณุชุงู ุฏุฑ ุงูุฌุง ููุงุด ุฏุงุฏู ูโุดูุฏ</p></div>';
        });
    </script>
</body>
</html>